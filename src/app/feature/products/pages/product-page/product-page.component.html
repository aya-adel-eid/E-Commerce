<section class="content ">
  <div>
    <app-section-title [title]="'common products'"></app-section-title>

    @if (!productsService.allProducts||productsService.loadingPage) {
    <app-loading-screen></app-loading-screen>
    }
    @else {

    <!-- pip -->
    <div class="w-1/2 relative my-4 mx-auto">
      <input type="search" id="search-dropdown" id="input-group-1" [(ngModel)]="textSearch"
        class="input-form border rounded-full py-5 px-4 placeholder:text-xl" placeholder="Search for products" required>
      <button type="button" class=" absolute top-1/2 -translate-y-1/2 end-5 cursor-pointer ">
        <svg class="w-5 h-5 me-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
          fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
            d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" />
        </svg>

      </button>
      <p>{{textSearch}}</p>
    </div>
    <div class="system-Grid">
      @for (product of productsService.allProducts |filter:textSearch:['title','category.name'] | paginate:
      { itemsPerPage:limit, currentPage: page,totalItems: productsService.total}; track product._id ) {

      <app-product-card [product]="product"></app-product-card>
      }
    </div>
    <div class="my-20 flex justify-center items-center">

      <pagination-controls (pageChange)="pageChange($event)"></pagination-controls>

    </div>
    }
  </div>


</section>
